(this["webpackJsonpplatzi-recetas"]=this["webpackJsonpplatzi-recetas"]||[]).push([[0],{19:function(e,t,n){e.exports=n(40)},24:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),i=n.n(c),s=(n(24),n(4)),o=n(5),l=n(7),u=n(6),m=n(43),p=n(41),f=n(42),h=n(3),d=n.n(h),v=n(9),g=n(11),b=(n(36),"https://www.themealdb.com/api/json/v1/1"),w={getLatest:function(){return E.apply(this,arguments)},getRecipe:function(e){return j.apply(this,arguments)}};function E(){return(E=Object(v.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/search.php?f=b"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=n.meals.map((function(e){return k(e)})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(v.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/lookup.php?i=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if((a=e.sent).meals){e.next=8;break}return e.abrupt("return",null);case 8:return r=k(a.meals.shift()),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t={};t.id=e.idMeal,t.name=e.strMeal,t.category=e.strCategory,t.origin=e.strArea,t.instructions=e.strInstructions.split("\n").filter((function(e){return""!==e.trim()})),t.thumbnail=e.strMealThumb,t.tags=e.strTags?e.strTags.split(","):[],t.youtube=e.strYoutube,t.ingredients=[],t.url=e.strSource,t.dateModified=e.dateModified;for(var n=1;n<=20;n++)""!==e["strIngredient".concat(n)]&&""!==e["strMeasure".concat(n)]&&t.ingredients.push({ingredient:e["strIngredient".concat(n)],measure:e["strMeasure".concat(n)]});return t}var y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={recipes:null,isLoading:!0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.getLatest();case 3:t=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),t=null;case 10:this.setState({recipes:t,isLoading:!1});case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.recipes;return e.isLoading?r.a.createElement("div",{className:"message"},"Cargando..."):r.a.createElement("div",null,r.a.createElement(g.Helmet,null,r.a.createElement("title",null,"Recetas")),r.a.createElement("div",{className:"recipes"},t&&t.map((function(e){return r.a.createElement(p.a,{to:"/recipe/".concat(e.id),className:"recipe",key:e.id},r.a.createElement("span",{className:"bg",style:{backgroundImage:"url(".concat(e.thumbnail,")")}}),r.a.createElement("span",{className:"info"},r.a.createElement("h2",null,e.name)))}))))}}]),n}(r.a.Component),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.ingredients;return r.a.createElement("div",{className:"ingredients"},r.a.createElement("h2",null,"Ingredients"),r.a.createElement("ul",null,e.map((function(e,t){return r.a.createElement("li",{key:t},e.ingredient,": ",e.measure)}))))}}]),n}(r.a.Component),N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.instructions;return r.a.createElement("div",{className:"instructions"},r.a.createElement("h2",null,"Instructions"),r.a.createElement("div",{className:"steps"},e.map((function(e,t){return r.a.createElement("div",{className:"step",key:t},r.a.createElement("div",{className:"number"},t+1),r.a.createElement("div",{className:"text"},e))}))))}}]),n}(r.a.Component),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).share=function(e){if(e.preventDefault(),!navigator.share)return alert("Tu navegador no soporta compartir"),null;var t=a.state.recipe;navigator.share({title:t.name,text:t.summary,url:"https://www.mealdb.com/recipe/".concat(t.id)}).then((function(){return console.log("Successful share")})).catch((function(e){return console.log("Error sharing",e)}))},a.state={recipe:null,isLoading:!0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,w.getRecipe(this.props.match.params.recipeId);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=null;case 10:this.setState({recipe:t,isLoading:!1});case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.recipe;return e.isLoading?r.a.createElement("div",{className:"message"},"Cargando..."):null===t?r.a.createElement("div",{className:"message"},"Hubo un problema :("):r.a.createElement("div",{className:"Recipe"},r.a.createElement(g.Helmet,null,r.a.createElement("title",null,t.name)),r.a.createElement("div",{className:"hero",style:{backgroundImage:"url(".concat(t.thumbnail,")")}}),r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,t.name),r.a.createElement("p",null,t.origin),r.a.createElement("a",{onClick:this.share},"Compartir")),r.a.createElement("div",null)),r.a.createElement(O,{ingredients:t.ingredients}),r.a.createElement(N,{instructions:t.instructions}))}}]),n}(r.a.Component),C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).start=Object(v.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.timer,a.setState({timeLeft:t}),n=setInterval((function(){t-=1,a.setState({timeLeft:t}),t<=0&&(clearInterval(n),a.showNotification())}),1e3);case 3:case"end":return e.stop()}}),e)}))),a.showNotification=Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),a.handleChange=function(e){a.setState({timer:e.target.value})},a.state={timer:3,timeLeft:0},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.timer,n=e.timeLeft;return r.a.createElement("div",{className:"Timer"},r.a.createElement("div",{className:"name"},"Timer"),0===n?r.a.createElement("div",{className:"center"},r.a.createElement("input",{type:"number",min:"0",max:"999",step:"1",value:t,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.start},"Start")):r.a.createElement("div",{className:"timeLeft"},n,"s"))}}]),n}(r.a.Component),L=(n(38),n(12)),I=n(13),M=Object(L.a)();I.a.initialize("UA-000000-01"),I.a.pageview(window.location.pathname+window.location.search),M.listen((function(e){I.a.pageview(window.location.pathname+window.location.search)}));var S=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement(m.a,{history:M},r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(p.a,{to:"/"},"Recetas")),r.a.createElement("main",null,r.a.createElement(f.a,{exact:!0,path:"/",component:y}),r.a.createElement(f.a,{path:"/recipe/:recipeId",component:x}),r.a.createElement(f.a,{path:"/timer",component:C}))))}}]),n}(r.a.Component),T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");T?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):R(e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.62c6aec8.chunk.js.map